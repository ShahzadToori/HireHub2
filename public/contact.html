<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Post a Job ‚Äì HireHub</title>
  <meta name="description" content="Get in touch with HireHub to list your job opening and connect with top talent.">
  <meta name="robots" content="index, follow">
  <link rel="icon" type="image/svg+xml" href="/JobOrbitFavicon.svg">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/contact.css">
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg sticky-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center gap-2" href="/">
      <img id="site-logo" src="" alt="Logo" class="d-none" style="max-height:36px">
      <!-- <span id="site-name" class="brand-name">HireHub</span> -->
    </a>
    <div class="d-flex align-items-center gap-2 ms-auto">
      <button class="btn btn-icon theme-toggle" id="themeToggle" title="Toggle dark mode" aria-label="Toggle theme">
        <i class="bi bi-moon-fill" id="themeIcon"></i>
      </button>
      <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
        <i class="bi bi-list fs-4"></i>
      </button>
    </div>
    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-1">
        <li class="nav-item"><a class="nav-link" href="/">Browse Jobs</a></li>
        <li class="nav-item"><a class="nav-link" href="/#categories">Categories</a></li>
        <li class="nav-item"><a class="nav-link nav-link-active" href="/contact.html">Post a Job</a></li>
        <li class="nav-item"><a class="nav-link" href="/admin" target="_blank">Admin</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- HERO -->
<header class="contact-hero">
  <div class="contact-hero-bg"></div>
  <div class="container position-relative text-center py-5">
    <div class="contact-hero-icon"><i class="bi bi-megaphone-fill"></i></div>
    <h1 class="contact-hero-title">List Your Job Opening</h1>
    <p class="contact-hero-sub">Reach thousands of qualified candidates. Fill out the form and our team will get back to you within 24 hours.</p>
    <div class="contact-hero-badges">
      <span class="hero-badge-chip"><i class="bi bi-lightning-fill me-1"></i>Live in 24h</span>
      <span class="hero-badge-chip"><i class="bi bi-people-fill me-1"></i>Thousands of job seekers</span>
      <span class="hero-badge-chip"><i class="bi bi-whatsapp me-1"></i>Direct contact</span>
    </div>
  </div>
</header>

<!-- MAIN -->
<section class="contact-section">
  <div class="container">
    <div class="row g-5 justify-content-center">

      <!-- FORM -->
      <div class="col-lg-7">
        <div class="contact-card">
          <div class="contact-card-header">
            <h2 class="contact-card-title"><i class="bi bi-send-fill me-2"></i>Send Us a Message</h2>
            <p class="contact-card-sub">Tell us about your company and the role you want to fill.</p>
          </div>

          <div id="formAlert" class="contact-alert d-none" role="alert"></div>

          <form id="contactForm" novalidate>

            <div class="row g-3 mb-3">
              <div class="col-sm-6">
                <label class="field-label" for="cName">Full Name <span class="req">*</span></label>
                <div class="field-wrap">
                  <i class="bi bi-person field-icon"></i>
                  <input type="text" class="field-input" id="cName" placeholder="John Smith" required maxlength="120">
                </div>
              </div>
              <div class="col-sm-6">
                <label class="field-label" for="cCompany">Company Name</label>
                <div class="field-wrap">
                  <i class="bi bi-building field-icon"></i>
                  <input type="text" class="field-input" id="cCompany" placeholder="Tech Corp Ltd" maxlength="200">
                </div>
              </div>
            </div>

            <div class="row g-3 mb-3">
              <div class="col-sm-6">
                <label class="field-label" for="cEmail">Email Address <span class="req">*</span></label>
                <div class="field-wrap">
                  <i class="bi bi-envelope field-icon"></i>
                  <input type="email" class="field-input" id="cEmail" placeholder="you@company.com" required maxlength="160">
                </div>
              </div>
              <div class="col-sm-6">
                <label class="field-label" for="cPhone">Phone / WhatsApp</label>
                <div class="field-wrap">
                  <i class="bi bi-telephone field-icon"></i>
                  <input type="tel" class="field-input" id="cPhone" placeholder="+1 555 000 0000" maxlength="30">
                </div>
              </div>
            </div>

            <div class="mb-3">
              <label class="field-label" for="cSubject">Subject <span class="req">*</span></label>
              <div class="field-wrap">
                <i class="bi bi-chat-text field-icon"></i>
                <select class="field-input field-select" id="cSubject" required>
                  <option value="">Select a reason‚Ä¶</option>
                  <option value="Post a Job Listing">üìã Post a Job Listing</option>
                  <option value="Featured Job Inquiry">‚≠ê Featured Job Inquiry</option>
                  <option value="Sponsored Job Inquiry">üîù Sponsored Job Inquiry</option>
                  <option value="Pricing and Packages">üí∞ Pricing and Packages</option>
                  <option value="Partnership Inquiry">ü§ù Partnership Inquiry</option>
                  <option value="General Question">üí¨ General Question</option>
                  <option value="Report an Issue">üîß Report an Issue</option>
                </select>
              </div>
            </div>

            <div class="mb-4">
              <label class="field-label" for="cMessage">
                Message <span class="req">*</span>
              </label>
              <textarea class="field-input field-textarea" id="cMessage"
                placeholder="Tell us about the role, requirements, location, salary range, and any other details you'd like included in the listing‚Ä¶"
                required maxlength="5000" rows="7"></textarea>
              <div class="field-hint">
                <span id="charCount">0</span> / 5000 characters
              </div>
            </div>

            <button type="submit" class="btn-submit w-100" id="submitBtn">
              <span id="btnText"><i class="bi bi-send-fill me-2"></i>Send Message</span>
              <span id="btnSpinner" class="d-none">
                <span class="spinner-border spinner-border-sm me-2"></span>Sending‚Ä¶
              </span>
            </button>

          </form>
        </div>
      </div>

      <!-- SIDEBAR -->
      <div class="col-lg-4 d-flex flex-column gap-4">

        <!-- Response time -->
        <div class="info-card">
          <div class="info-icon-wrap info-primary"><i class="bi bi-clock-fill"></i></div>
          <div>
            <h5 class="info-title">Fast Response</h5>
            <p class="info-text">We reply to all inquiries within <strong>24 hours</strong> on business days.</p>
          </div>
        </div>

        <!-- Why list -->
        <div class="why-card">
          <h5 class="why-title"><i class="bi bi-patch-check-fill me-2"></i>Why List With Us?</h5>
          <ul class="why-list">
            <li><span class="why-icon"><i class="bi bi-people-fill"></i></span><span>Reach thousands of active job seekers daily</span></li>
            <li><span class="why-icon"><i class="bi bi-lightning-fill"></i></span><span>Go live in less than 24 hours</span></li>
            <li><span class="why-icon"><i class="bi bi-whatsapp"></i></span><span>Direct WhatsApp, phone and email buttons</span></li>
            <li><span class="why-icon"><i class="bi bi-star-fill"></i></span><span>Featured and sponsored placement options</span></li>
            <li><span class="why-icon"><i class="bi bi-phone-fill"></i></span><span>Fully mobile-optimized listings</span></li>
            <li><span class="why-icon"><i class="bi bi-graph-up-arrow"></i></span><span>SEO-optimized for maximum visibility</span></li>
          </ul>
        </div>

        <!-- Packages -->
        <div class="packages-card">
          <h5 class="packages-title"><i class="bi bi-tags-fill me-2"></i>Listing Packages</h5>
          <div class="pkg-item">
            <div class="d-flex justify-content-between align-items-center">
              <span class="pkg-name">Standard</span>
              <span class="pkg-price free">Free</span>
            </div>
            <span class="pkg-desc">Basic listing visible to all users</span>
          </div>
          <div class="pkg-item pkg-featured">
            <div class="d-flex justify-content-between align-items-center">
              <span class="pkg-name">‚≠ê Featured</span>
              <span class="pkg-price">$9.99<small>/mo</small></span>
            </div>
            <span class="pkg-desc">Highlighted in featured section</span>
          </div>
          <div class="pkg-item pkg-sponsored">
            <div class="d-flex justify-content-between align-items-center">
              <span class="pkg-name">üîù Sponsored</span>
              <span class="pkg-price">$19.99<small>/mo</small></span>
            </div>
            <span class="pkg-desc">Pinned at top of all search results</span>
          </div>
          <p class="pkg-note"><i class="bi bi-info-circle me-1"></i>Mention your preferred package in your message.</p>
        </div>

      </div>
    </div>
  </div>
</section>

<!-- SUCCESS MODAL -->
<div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width:380px">
    <div class="modal-content success-modal">
      <div class="text-center p-4">
        <div class="success-icon"><i class="bi bi-check-circle-fill"></i></div>
        <h4 class="success-title mt-3">Message Sent!</h4>
        <p class="success-text">Thank you for reaching out. Our team will review your request and contact you within <strong>24 hours</strong>.</p>
        <button class="btn-success-ok" data-bs-dismiss="modal">Got it!</button>
      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer class="site-footer">
  <div class="container">
    <div class="row g-4">
      <div class="col-md-4">
        <div class="footer-brand mb-2"><span class="brand-name" id="footer-site-name">HireHub</span></div>
        <p class="footer-desc">Connecting talent with opportunity. Find your next career move today.</p>
      </div>
      <div class="col-md-4">
        <h6 class="footer-heading">Quick Links</h6>
        <ul class="footer-links">
          <li><a href="/">Browse Jobs</a></li>
          <li><a href="/contact.html">Post a Job</a></li>
          <li><a href="/admin" target="_blank">Admin Panel</a></li>
        </ul>
      </div>
      <div class="col-md-4">
        <h6 class="footer-heading">Post a Job</h6>
        <p class="footer-desc">Ready to find your next hire? Fill out our contact form and we'll list your role within 24 hours.</p>
      </div>
    </div>
    <hr class="footer-divider">
    <div class="d-flex flex-wrap justify-content-between align-items-center gap-2">
      <p class="mb-0 footer-copy">¬© <span id="footerYear"></span> <span id="footer-copy-name">HireHub</span>. All rights reserved.</p>
      <p class="mb-0 footer-copy">Built with ‚ù§Ô∏è for job seekers</p>
    </div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
async function loadSettings() {
  try {
    const data = await fetch('/api/settings').then(r => r.json());
    const s = data.settings;
    if (s.primary_color)   document.documentElement.style.setProperty('--primary', s.primary_color);
    if (s.secondary_color) document.documentElement.style.setProperty('--secondary', s.secondary_color);
    if (s.site_name) {
      document.querySelectorAll('.brand-name').forEach(el => el.textContent = s.site_name);
      document.getElementById('footer-copy-name').textContent = s.site_name;
      document.title = `Post a Job ‚Äì ${s.site_name}`;
    }
    if (s.logo_url) {
      const logo = document.getElementById('site-logo');
      logo.src = s.logo_url;
      logo.classList.remove('d-none');
    }
    applyTheme(localStorage.getItem('theme') || s.default_theme || 'light', false);
  } catch {}
}

function applyTheme(theme, save = true) {
  document.documentElement.setAttribute('data-theme', theme);
  // color-scheme makes native browser elements (select, scrollbar, etc) use OS dark/light colors
  document.documentElement.style.colorScheme = theme;
  document.getElementById('themeIcon').className = theme === 'dark' ? 'bi bi-sun-fill' : 'bi bi-moon-fill';
  if (save) localStorage.setItem('theme', theme);
}

document.getElementById('themeToggle').addEventListener('click', () => {
  applyTheme(document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
});

// Character counter
const msgEl = document.getElementById('cMessage');
const cntEl = document.getElementById('charCount');
msgEl.addEventListener('input', () => {
  const n = msgEl.value.length;
  cntEl.textContent = n;
  cntEl.style.color = n > 4500 ? '#dc3545' : '';
});

// Form submit
document.getElementById('contactForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const btn = document.getElementById('submitBtn');
  const txt = document.getElementById('btnText');
  const spn = document.getElementById('btnSpinner');
  const alr = document.getElementById('formAlert');
  alr.classList.add('d-none');

  const name    = document.getElementById('cName').value.trim();
  const company = document.getElementById('cCompany').value.trim();
  const email   = document.getElementById('cEmail').value.trim();
  const phone   = document.getElementById('cPhone').value.trim();
  const subject = document.getElementById('cSubject').value;
  const message = document.getElementById('cMessage').value.trim();

  if (!name || !email || !subject || !message) {
    return showAlert('Please fill in all required fields.', 'error');
  }

  btn.disabled = true;
  txt.classList.add('d-none');
  spn.classList.remove('d-none');

  try {
    const res  = await fetch('/api/contact', {
      method:  'POST',
      headers: { 'Content-Type': 'application/json' },
      body:    JSON.stringify({ name, company, email, phone, subject, message })
    });
    const data = await res.json();

    if (data.success) {
      new bootstrap.Modal(document.getElementById('successModal')).show();
      document.getElementById('contactForm').reset();
      cntEl.textContent = '0';
    } else {
      showAlert(data.message || 'Something went wrong. Please try again.', 'error');
    }
  } catch {
    showAlert('Network error. Please check your connection.', 'error');
  } finally {
    btn.disabled = false;
    txt.classList.remove('d-none');
    spn.classList.add('d-none');
  }
});

function showAlert(msg, type) {
  const el = document.getElementById('formAlert');
  el.className = `contact-alert contact-alert-${type}`;
  el.innerHTML = `<i class="bi bi-${type === 'error' ? 'exclamation-triangle' : 'check-circle'}-fill me-2"></i>${msg}`;
  el.classList.remove('d-none');
  el.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

document.getElementById('footerYear').textContent = new Date().getFullYear();
loadSettings();
</script>
</body>
</html>
